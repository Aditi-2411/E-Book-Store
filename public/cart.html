<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
        }

        .sidebar {
            width: 250px;
            background-color: #f0f0f0;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .content {
            flex: 1;
            padding: 20px;
            margin-left: 250px;
        }

        .message {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .box {
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            flex: 1; /* Makes boxes take equal width */
            margin-right: 20px; /* Space between boxes */
        }

        .order-details, .book-details, .fake-transaction {
    flex: 2; /* Allows boxes to stretch equally */
}

.fake-transaction {
    margin-top: 20px;
}

.fake-transaction h3 {
    margin-bottom: 15px;
}

.fake-transaction input {
    display: block;
    margin-bottom: 10px;
    padding: 8px;
    width: calc(100% - 16px); /* Full width minus padding */
}

button {
    padding: 10px 15px;
    margin-top: 10px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
}

button:hover {
    background-color: #0056b3;
}

.remove-btn {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    height: 25px;
}

.remove-btn:hover {
    background-color: #c82333;
}

        .order-details, .book-details {
            margin-bottom: 20px;
        }

        .order-details div, .book-details div {
            margin-bottom: 10px;
        }

        .order-details .total, .book-details .remove-btn {
            font-weight: bold;
        }

        .remove-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }

        .remove-btn:hover {
            background-color: #c82333;
        }

        .fake-transaction {
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 5px;
            background-color: #f8f9fa;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .library-container {
            display: flex;
            flex: 1;
    padding: 20px;
    margin-left: 20px;
        }

        .sidebar {
            width: 250px;
            background-color: #f0f0f0;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .library-heading {
            font-size: 24px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: start;
            padding: 10px;
            background-color: navy;
            color: white;
            border-radius: 5px;
            font-weight: bold;
        }

        .library-heading .star {
            color: #ffcc00;
            margin-right: 10px;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            margin-bottom: 15px;
            cursor: pointer;
            font-weight: bold;
        }

        .sidebar-item svg {
            margin-right: 10px;
        }

        .sidebar-item:hover {
            background-color: #ddd;
        }

        /* Category Options */
        #category-options {
            display: none;
        }

        .category-box {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 8px;
            margin-left: 10px;
            margin-bottom: 8px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            color: #333;
        }

        .category-box:hover {
            background-color: rgba(255, 255, 255, 0.6);
        }

        .content {
            flex: 1;
            padding: 20px;
            
        }

        

        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .button-container button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
        }

        .button-container button:hover {
            background-color: #0056b3;
        }
        
        .cart-buttons {
    display: flex;
    flex-direction: column; /* Arrange buttons in a column */
    align-items: center; /* Center the buttons horizontally */
    margin-top: 100px; /* Space above the button group */
}

.go-back-button,
.empty-button {
    padding: 10px 20px; /* Padding around the buttons */
    background-color: #007bff; /* Primary button color */
    color: white; /* Button text color */
    border: none; /* No border */
    border-radius: 5px; /* Rounded corners */
    cursor: pointer; /* Pointer cursor on hover */
    font-size: 16px; /* Font size */
    transition: background-color 0.3s; /* Smooth transition for hover */
    margin-bottom: 10px; /* Space between the buttons */
    width: 150px; /* Width to make both buttons consistent */
}

.go-back-button:hover,
.empty-button:hover {
    background-color: #0056b3; /* Darker shade on hover */
}

    
    </style>
</head>
<body>
    <div class="library-container">
        <!-- Sidebar -->
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="library-heading">
                <span class="star">â˜…</span> 
                <span>eBook Lib</span>
            </div>

            <div class="sidebar-item" id="home" onclick="navigateTo('library.html')">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg> Home
            </div>

            <div class="sidebar-item" id="category" onclick="toggleCategories()">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 960 960" width="24px" fill="#000000"><path d="M80 640V320h320v320H80Zm80-80h160V400H160v160Zm160-400 220-360 220 360H220Zm142-80h156l-78-126-78 126ZM863 858 757 742q-21 14-45.5 21t-51.5 7q-75 0-127.5-52.5T480 660q0-75 52.5-127.5T660 480q75 0 127.5 52.5T840 660q0 26-7 50.5T813 756L919 862l-56 56ZM660 760q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29ZM320 380Zm120-260Z"/></svg> Category
            </div>

            <div class="category-options" id="category-options">
                <div class="category-box" onclick="navigateTo('category_engineering.html')"> 
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M42-120v-112q0-33 17-62t47-44q51-26 115-44t141-18q77 0 141 18t115 44q30 15 47 44t17 62v112H42Zm80-80h480v-32q0-11-5.5-20T582-266q-36-18-92.5-36T362-320q-71 0-127.5 18T142-266q-9 5-14.5 14t-5.5 20v32Zm240-240q-66 0-113-47t-47-113h-10q-9 0-14.5-5.5T172-620q0-9 5.5-14.5T192-640h10q0-45 22-81t58-57v38q0 9 5.5 14.5T302-720q9 0 14.5-5.5T322-740v-54q9-3 19-4.5t21-1.5q11 0 21 1.5t19 4.5v54q0 9 5.5 14.5T422-720q9 0 14.5-5.5T442-740v-38q36 21 58 57t22 81h10q9 0 14.5 5.5T552-620q0 9-5.5 14.5T532-600h-10q0 66-47 113t-113 47Zm0-80q33 0 56.5-23.5T442-600H282q0 33 23.5 56.5T362-520Zm300 160-6-30q-6-2-11.5-4.5T634-402l-28 10-20-36 22-20v-24l-22-20 20-36 28 10q4-4 10-7t12-5l6-30h40l6 30q6 2 12 5t10 7l28-10 20 36-22 20v24l22 20-20 36-28-10q-5 5-10.5 7.5T708-390l-6 30h-40Zm20-70q12 0 21-9t9-21q0-12-9-21t-21-9q-12 0-21 9t-9 21q0 12 9 21t21 9Zm72-130-8-42q-9-3-16.5-7.5T716-620l-42 14-28-48 34-30q-2-5-2-8v-16q0-3 2-8l-34-30 28-48 42 14q6-6 13.5-10.5T746-798l8-42h56l8 42q9 3 16.5 7.5T848-780l42-14 28 48-34 30q2 5 2 8v16q0 3-2 8l34 30-28 48-42-14q-6 6-13.5 10.5T818-602l-8 42h-56Zm28-90q21 0 35.5-14.5T832-700q0-21-14.5-35.5T782-750q-21 0-35.5 14.5T732-700q0 21 14.5 35.5T782-650ZM362-200Z"/></svg>Engineering</div>
                
                    <div class="category-box" onclick="navigateTo('category_novels.html')">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M560-564v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-600q-38 0-73 9.5T560-564Zm0 220v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-380q-38 0-73 9t-67 27Zm0-110v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-490q-38 0-73 9.5T560-454ZM260-320q47 0 91.5 10.5T440-278v-394q-41-24-87-36t-93-12q-36 0-71.5 7T120-692v396q35-12 69.5-18t70.5-6Zm260 42q44-21 88.5-31.5T700-320q36 0 70.5 6t69.5 18v-396q-33-14-68.5-21t-71.5-7q-47 0-93 12t-87 36v394Zm-40 118q-48-38-104-59t-116-21q-42 0-82.5 11T100-198q-21 11-40.5-1T40-234v-482q0-11 5.5-21T62-752q46-24 96-36t102-12q58 0 113.5 15T480-740q51-30 106.5-45T700-800q52 0 102 12t96 36q11 5 16.5 15t5.5 21v482q0 23-19.5 35t-40.5 1q-37-20-77.5-31T700-240q-60 0-116 21t-104 59ZM280-494Z"/></svg>Novels</div>
                
                    <div class="category-box" onclick="navigateTo('category_horror.html')"> 
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M240-80v-170q-39-17-68.5-45.5t-50-64.5q-20.5-36-31-77T80-520q0-158 112-259t288-101q176 0 288 101t112 259q0 42-10.5 83t-31 77q-20.5 36-50 64.5T720-250v170H240Zm80-80h40v-80h80v80h80v-80h80v80h40v-142q38-9 67.5-30t50-50q20.5-29 31.5-64t11-74q0-125-88.5-202.5T480-800q-143 0-231.5 77.5T160-520q0 39 11 74t31.5 64q20.5 29 50.5 50t67 30v142Zm100-200h120l-60-120-60 120Zm-80-80q33 0 56.5-23.5T420-520q0-33-23.5-56.5T340-600q-33 0-56.5 23.5T260-520q0 33 23.5 56.5T340-440Zm280 0q33 0 56.5-23.5T700-520q0-33-23.5-56.5T620-600q-33 0-56.5 23.5T540-520q0 33 23.5 56.5T620-440ZM480-160Z"/></svg>Horror</div>
                
                    <div class="category-box" onclick="navigateTo('category_fiction.html')"> <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M320-160q-33 0-56.5-23.5T240-240v-120h120v-90q-35-2-66.5-15.5T236-506v-44h-46L60-680q36-46 89-65t107-19q27 0 52.5 4t51.5 15v-55h480v520q0 50-35 85t-85 35H320Zm120-200h240v80q0 17 11.5 28.5T720-240q17 0 28.5-11.5T760-280v-440H440v24l240 240v56h-56L510-514l-8 8q-14 14-29.5 25T440-464v104ZM224-630h92v86q12 8 25 11t27 3q23 0 41.5-7t36.5-25l8-8-56-56q-29-29-65-43.5T256-684q-20 0-38 3t-36 9l42 42Zm376 350H320v40h286q-3-9-4.5-19t-1.5-21Zm-280 40v-40 40Z"/></svg>Fiction</div>
                
                    <div class="category-box" onclick="navigateTo('category_science.html')">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="m480-281 59-59h81v-81l59-59-59-59v-81h-81l-59-59-59 59h-81v81l-59 59 59 59v81h81l59 59Zm0 253L346-160H160v-186L28-480l132-134v-186h186l134-132 134 132h186v186l132 134-132 134v186H614L480-28Zm0-112 100-100h140v-140l100-100-100-100v-140H580L480-820 380-720H240v140L140-480l100 100v140h140l100 100Zm0-340Z"/></svg>Science</div>
            </div>
            
            
            <div class="sidebar-item" onclick="navigateTo('cart.html')">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 960 960" width="24px" fill="#000000"><path d="M280 880q-33 0-56.5-23.5T200 800q0-33 23.5-56.5T280 720q33 0 56.5 23.5T360 800q0 33-23.5 56.5T280 880Zm400 0q-33 0-56.5-23.5T600 800q0-33 23.5-56.5T680 720q33 0 56.5 23.5T760 800q0 33-23.5 56.5T680 880ZM246 240l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692 478q-11 20-29.5 31T622 520H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Z"/></svg> Cart
            </div>
            <div class="sidebar-item" onclick="navigateTo('about.html')">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 960 960" width="24px" fill="#000000"><path d="M440 680h80V440h-80v240Zm40-320q17 0 28.5-11.5T520 320q0-17-11.5-28.5T480 280q-17 0-28.5 11.5T440 320q0 17 11.5 28.5T480 360Zm0 520q-83 0-156-31.5T197 757q-54-54-85.5-127T80 480q0-83 31.5-156T197 237q54-54 127-85.5T480 120q83 0 156 31.5T763 237q54 54 85.5 127T880 480q0 83-31.5 156T763 757q-54 54-127 85.5T480 880Zm0-400Zm0 320q125 0 212.5-87.5T780 480q0-125-87.5-212.5T480 180q-125 0-212.5 87.5T180 480q0 125 87.5 212.5T480 800Z"/></svg> About
            </div>
            
            <div class="sidebar-item" onclick="navigateTo('wishlist.html')">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M200-313q10-3 19.5-5t20.5-2h40v-480h-40q-17 0-28.5 11.5T200-760v447Zm40 233q-50 0-85-35t-35-85v-560q0-50 35-85t85-35h280v80H360v480h240v-120h80v200H240q-17 0-28.5 11.5T200-200q0 17 11.5 28.5T240-160h520v-320h80v400H240Zm-40-233v-487 487Zm500-167q0-92 64-156t156-64q-92 0-156-64t-64-156q0 92-64 156t-156 64q92 0 156 64t64 156Z"/></svg>Wishlist</div>
            <div class="sidebar-item" onclick="navigateTo('quote.html')">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="ffffff"><path d="M440-760v-160h80v160h-80Zm266 110-56-56 113-114 56 57-113 113Zm54 210v-80h160v80H760Zm3 299L650-254l56-56 114 112-57 57ZM254-650 141-763l57-57 112 114-56 56Zm-14 450h180q25 0 42.5-17.5T480-260q0-25-17-42.5T421-320h-51l-20-48q-14-33-44-52.5T240-440q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T40-320q0-83 58.5-141.5T240-520q60 0 109.5 32.5T423-400q58 0 97.5 43T560-254q-2 57-42.5 95.5T420-120H240Zm320-134q-5-20-10-39t-10-39q45-19 72.5-59t27.5-89q0-66-47-113t-113-47q-60 0-105 39t-53 99q-20-5-41-9t-41-9q14-88 82.5-144T480-720q100 0 170 70t70 170q0 77-44 138.5T560-254Zm-79-226Z"/></svg> Quote of the Day</div>
            
            <div class="sidebar-item" onclick="signOut()">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/></svg> Sign Out
            </div>
        </div>

        


        <div class="content">
            <div class="message">
                Welcome!<br>
                Thanks for your purchase. Please complete the checkout process by paying for your order.
            </div>
        
            <div class="library-container">
                <div class="book-details box">
                    <h3>Books in Your Cart</h3>
                    <div id="cart-items">
                        <!-- Cart items will be dynamically inserted here -->
                    </div>
                </div>
                <!-- Go Back button placed below book details box -->
                <div class="cart-buttons">
                    <button id="empty-cart-button" class="empty-button">Empty Cart</button>
                    <button id="go-back-button" class="go-back-button">Go Back</button>
                   
                </div>
                
    

        
                <div class="order-details box">
                    <h3>Order Details</h3>
                    <div class="details">Buying Books for Rs <span id="book-price-detail">0</span></div>
                    <div class="delivery">Delivery Charge: Rs 5</div>
                    <div class="total">Total Amount: Rs <span id="total-amount">5</span></div>
                </div>
            </div>
        
            <div class="fake-transaction box">
                <h3>Payment Details</h3>
                <form id="payment-form">
                    <div>
                        <label for="card-name">Name on Card:</label>
                        <input type="text" id="card-name" placeholder="John Doe" required>
                    </div>
                    <div>
                        <label for="card-number">Card Number:</label>
                        <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" required />
                    </div>
                    <div>
                        <label for="expiry-date">Expiry Date:</label>
                        <input type="month" id="expiry-date" required>
                    </div>
                    <div>
                        <label for="cvv">CVV:</label>
                        <input type="text" id="cvv" placeholder="123" maxlength="3" required />
                    </div>
                    <button type="button" id="make-payment">Make Payment</button>
                    <button type="reset">Reset Values</button>
                </form>
            </div>

                <!-- Modal for Sign Up Confirmation -->
    <div id="sign-up-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-sign-up-modal">&times;</span>
            <p>Have you signed up?</p>
            <div class="button-container">
                <button id="sign-up-yes">Yes</button>
                <button id="sign-up-no">No</button>
            </div>
        </div>
    </div>

    <!-- Modal for Continue Payment Confirmation -->
    <div id="continue-payment-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-continue-payment-modal">&times;</span>
            <p>Do you want to continue payment?</p>
            <div class="button-container">
                <button id="continue-payment-yes">Yes</button>
                <button id="continue-payment-no">No</button>
            </div>
            </div>
        </div>

        <script>

document.getElementById('empty-cart-button').addEventListener('click', function() {
    emptyCart(); // Call the function to empty the cart
});

// Function to empty the cart
function emptyCart() {
    cartItems = []; // Clear the cart array
    localStorage.removeItem('cartItems'); // Clear the cart data from local storage
    updateCart(); // Refresh the cart display
    alert("Your cart has been emptied."); // Alert the user that the cart is empty
}

            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || []; // Initialize from local storage or empty array
        
            // Function to handle the "Make Payment" button click
            document.getElementById('make-payment').addEventListener('click', function () {
                if (cartItems.length === 0) {
                    alert("Your cart is empty. Please add books to proceed with payment.");
                } else {
                    // Proceed with payment confirmation
                    if (confirm("Do you want to continue with the payment?")) {
                        // Show sign up modal
                        signUpModal.style.display = "block";
                    }
                }
            });
        
            // Format card number (remains unchanged)
            function formatCardNumber(input) {
                let value = input.value.replace(/\D/g, '');
                input.value = value.replace(/(.{4})/g, '$1 ').trim();
            }
        
            document.getElementById('card-number').addEventListener('input', function () {
                formatCardNumber(this);
            });
        
            // Modal control (unchanged)
            const makePaymentButton = document.getElementById('make-payment');
            const signUpModal = document.getElementById('sign-up-modal');
            const continuePaymentModal = document.getElementById('continue-payment-modal');
            const closeSignUpModal = document.getElementById('close-sign-up-modal');
            const closeContinuePaymentModal = document.getElementById('close-continue-payment-modal');
        
            makePaymentButton.addEventListener('click', function () {
                signUpModal.style.display = "block";
            });
        
            closeSignUpModal.onclick = function () {
                signUpModal.style.display = "none";
            }
        
            closeContinuePaymentModal.onclick = function () {
                continuePaymentModal.style.display = "none";
            }
        
            // Sign up confirmation
            document.getElementById('sign-up-yes').addEventListener('click', function () {
                signUpModal.style.display = "none";
                continuePaymentModal.style.display = "block";
            });
        
            document.getElementById('sign-up-no').addEventListener('click', function () {
                window.location.href = "landing.html";
            });
        
            // Continue payment confirmation
            document.getElementById('continue-payment-yes').addEventListener('click', function () {
                processPayment(); // Call process payment here
                navigateTo("track_order.html"); // Navigate to track order page
            });
        
            document.getElementById('continue-payment-no').addEventListener('click', function () {
                continuePaymentModal.style.display = "none"; // Close modal
            });
        
            // Function to process payment
            function processPayment() {
                // Simulate successful payment
                alert("Payment successful!");
                clearCart(); // Clear the cart after successful payment
            }
        
            // Function to clear the cart
            function clearCart() {
                cartItems = []; // Empty the cart array
                localStorage.removeItem('cartItems'); // Clear cart from local storage
                updateCart(); // Refresh the cart display
            }
        
            // Function to update the cart display
            function updateCart() {
                const cartContainer = document.getElementById('cart-items');
                cartContainer.innerHTML = ''; // Clear existing items
                let subtotal = 0;
        
                cartItems.forEach((item, index) => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'cart-item';
                    itemElement.innerHTML = `
                        <div class="details">
                            <strong>${item.title}</strong><br>
                            Price: ${item.price} Rs<br>
                            Quantity: <input type="number" value="${item.quantity}" min="1" onchange="updateItemQuantity(${index}, this.value)">
                        </div>
                        <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
                    `;
                    cartContainer.appendChild(itemElement);
        
                    subtotal += parseFloat(item.price) * item.quantity; // Update subtotal based on quantity
                });
        
                const deliveryCharge = 5;
                const totalAmount = subtotal + deliveryCharge;
        
                document.getElementById('book-price-detail').textContent = subtotal.toFixed(2);
                document.getElementById('total-amount').textContent = totalAmount.toFixed(2);
            }
        
            // Function to remove an item from the cart
            function removeItem(index) {
                cartItems.splice(index, 1); // Remove the item from the array
                updateCart(); // Refresh the cart display
            }
        
            // Function to add a book to the cart (needs to save to local storage)
            function addBookToCart(title, price) {
                const existingItemIndex = cartItems.findIndex(item => item.title === title);
        
                if (existingItemIndex !== -1) {
                    // If the book already exists in the cart, increase its quantity
                    cartItems[existingItemIndex].quantity += 1;
                } else {
                    // Add the new book to the cart
                    cartItems.push({ title, price, quantity: 1 });
                }
                localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Save cart to local storage
                updateCart(); // Refresh the cart display
            }
        
            // Function to update the quantity of an item in the cart
            function updateItemQuantity(index, newQuantity) {
                cartItems[index].quantity = parseInt(newQuantity, 10);
                localStorage.setItem('cartItems', JSON.stringify(cartItems)); // Save updated cart to local storage
                updateCart(); // Refresh the cart display
            }
        
            // Function to get query parameter
            function getQueryParam(param) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            }
        
            // Function to check for new book from query parameters
            function checkForNewBook() {
                const bookName = getQueryParam('book');
                const bookPrice = getQueryParam('price');
        
                if (bookName && bookPrice) {
                    addBookToCart(bookName, bookPrice);
                    // Clear query params to prevent re-adding
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            }
        
            window.onload = function () {
                updateCart(); // Update cart display on page load
                checkForNewBook(); // Check for new book from query params
            }

            function toggleCategories() {
            const options = document.getElementById('category-options');
            options.style.display = options.style.display === 'none' ? 'block' : 'none';
        }

        
            // Function to navigate to a different page
            function navigateTo(page) {
                window.location.href = page;
            }
        
            // Function to sign out
            function signOut() {
                window.location.href = 'index.html';
            }
        
            document.getElementById('go-back-button').addEventListener('click', function() {
                window.history.back(); // Navigate back to the previous page
            });

            // Function to handle the form submission
    document.getElementById('payment-form').addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent the form from submitting and refreshing the page
        
        const form = document.getElementById('payment-form');

        // Check if all fields are filled out and valid
        if (form.checkValidity()) {
            if (cartItems.length === 0) {
                alert("Your cart is empty. Please add books to proceed with payment.");
            } else {
                // Proceed with payment confirmation
                if (confirm("Do you want to continue with the payment?")) {
                    // Show sign up modal
                    signUpModal.style.display = "block";
                }
            }
        } else {
            // If the form is not valid, show validation messages
            form.reportValidity();
        }
    });
        </script>
        
            
</body>
</html>





